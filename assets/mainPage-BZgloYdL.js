import{j as e,u as v,a as m,r as p,f as x,F as c,L as h}from"./index-Cp4Kj-5H.js";import{M}from"./MoviesList-CqdCm4J8.js";import{E as j}from"./Error-D9sTgV-Y.js";import{M as f}from"./MovieCardCommonProps-COIZ4GPl.js";const u=({movie:o,onResetMovie:s})=>e.jsx(e.Fragment,{children:e.jsx(f,{movie:o,onResetMovie:s,showDetails:!0})}),L=()=>{const o=v(),{list:s,loading:i,error:d}=m(n=>n.topTen),{randomMovie:a,randomMovieLoading:r,randomMovieError:t}=m(n=>n.randomMovie);p.useEffect(()=>{s.length===0&&!i&&o(x()),!a&&!r&&o(c())},[o,s.length,i,a,r]);const l=()=>o(c());return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"random-movie",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"movies__random",children:[r&&e.jsx(h,{}),!r&&t&&e.jsx(j,{error:`Random movie error: ${t}`}),a&&!r&&e.jsx(u,{movie:a,onResetMovie:l})]})})}),e.jsx("section",{className:"movies",children:e.jsx(M,{list:s,loading:i,error:d,title:"Топ 10 фильмов"})})]})};export{L as default};
